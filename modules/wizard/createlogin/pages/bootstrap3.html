	<form action="" method="post" enctype="multipart/form-data" class="form-horizontal" role="form">
	<input type=hidden name="gspgid_form" value="{$gspgid_form}">
	<input type=hidden name="form_id" value="form_login">


		{include file="form_error_messages.html"}


	
	{%foreach $login_fields as $f%}
		{$form->set_option('{%$f%}','placeholder','{%$f%}')}
		{$form->add_validator('{%$f%}','notEmpty')}
	{%/foreach%}

		{$form->set_error_template('<span class="label label-warning">%s</span>')}


		{$form->set_option_allfields('cssclass','form-control')}


		{$form->_prepare_inputs()}

	{$form->print_error('FORM_ERROR',TRUE,'<div class="alert alert-warning alert-dismissable">%s</div>')}

	{%foreach $login_fields as $f%}

        <div class="form-group {$form->print_error('{%$f%}',1,'has-error')}">
            <label for="{%$f%}" class="col-sm-4 control-label">
				{%$f%}
            </label>
            <div class="col-sm-4">
			{$form->get_input('{%$f%}')} 
			</div>
            <div class="col-sm-4">
            {$form->print_error('{%$f%}')}
			</div>
        </div>
	{%/foreach%}
    <div class="form-group">
        <div class="col-sm-offset-4 col-sm-4">
            <input type="submit" class="btn btn-primary" name="save_return" value="{ml('Sign in')}">
        </div>
	</div>
</form>	
