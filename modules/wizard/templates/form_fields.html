{extends file="wizard_page.html"}
{block name="main"}

	{controller _class=wz_forms _assign=form _assign_type=first id=$_gsdata.gspgid_va.0}


	<h3>
	<a href="/admin/wizard/module/{$form.Module->first()->id}">{$form.Module->first()->name}</a>
	=>
	<a href="/admin/wizard/forms/{$form.Module->first()->id}">{$form.classname}</a>

	 <a href="/admin/wizard/commit/{$form.Module->first()->id}">commit</a>
	</h3>


	<h4>fields</h4>
	<table class="tb">
	<thead>
	<tr><th>#</th>
	<th>name</th>
	<th>verbose_name</th>
	<th>widget</th>
	<th>default</th>
	<th>cnt</th>
	<th>validators</th>
	<th></th>
	<th></th>
	<th></th>
	</thead>
	{foreach from=$form.Fields item="e"}
	<tr class="{cycle values='odd,even'}">
			<td>{$e.id}</td>
			<td>{$e.name}</td>
			<td>{$e.verbose_name}</td>
			<td>{$e.widget}</td>
			<td>{$e.default_value}</td>
			<td>{$e.cnt}</td>
			<td>{$e.Validators}</td>
			<td class="cnt"><a href="/admin/wizard/form_fields_validators/{$e.id}">validators</a></td>
			<td class="cnt"><a href="/admin/wizard/form_fields/{$e.Form_id}/fields/{$e.id}#form"><img src="/i/admin/ico_edit.png" alt="Редактировать" title="Редактировать"></a></td>
			<td class="cnt"><a href="/admin/wizard/form_fields/delete/{$e.id}" onclick="return confirm('Вы точно хотите удалить запись ?');"><img src="/i/admin/ico_delete.png" alt="Удалить" title="Удалить"></a></td>
	</tr>
	{/foreach}
	</table>
	<h5>Редактировать/<a href="/admin/wizard/form_fields/{$_gsdata.gspgid_va.0}/fields#form">создать</a>:</h5>
	{if $_gsdata.gspgid_va.1=='fields'}
	<hr><br>
	<a name="form"></a>
	{handler gspgid="/admin/form/wz_form_fields/edit/`$_gsdata.gspgid_va.2`" Form_id=$form.id}
	{/if}


{/block}
